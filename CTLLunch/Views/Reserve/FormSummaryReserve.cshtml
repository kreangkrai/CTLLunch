@model List<CTLLunch.Models.SummaryReserveModel>;
@{
    Layout = "";
    string[] colors = new string[2] {"#c2fcf9","#f1fcc2" };
}
<!DOCTYPE html>
<html>
<head>
    <title>Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css" />
    <style>

        p {
            font-size: 16px;
            font-family: 'TH Sarabun';
            margin: 0px;
            padding: 0px;
        }

        b {
            font-size: 16px;
            font-family: 'TH Sarabun';
            margin: 0px;
            padding: 0px
        }

        table {
            font-size: 20px;
            font-family: 'TH Sarabun';
            text-wrap: none;
            margin: 0px;
            padding: 0px;
            line-height: 16px;
        }

        tr {
            margin: 0px;
            padding: 0px;
            vertical-align: middle;
        }

        th {
            font-family: 'TH Sarabun';
            font-size: 20px;
            margin: 0px;
            padding: 0px;
        }

        td {
            font-family: 'TH Sarabun';
            font-size: 16px;
            margin: 0px;
            padding: 0px;
        }

    </style>
</head>
<body>
    <div class="container">
        <form>              
            <div class="form-group" style="margin:0px;padding:0px">
                <div class="row">
                    <p style="font-size:20px">ร้านอาหาร : @Model[0].shop_name</p>
                </div>
                <div class="row">
                    <table class="table table-bordered text-center w-100">
                        <thead style="background-color: #034694;color:white">
                            <tr>
                                <th style="font-weight:700;font-size:20px">ลำดับ</th>
                                <th style="font-weight:700;font-size:20px">ชื่อผู้สั่ง</th>
                                <th style="font-weight:700;font-size:20px">รายการอาหาร</th>
                                <th style="font-weight:700;font-size:20px">ค่าอาหาร</th>
                                <th style="font-weight:700;font-size:20px">ค่าจัดส่ง</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                string menu_id = Model[0].menu_id;
                                int toggle = 0;
                                for (int i = 0; i < Model.Count(); i++)
                            {
                                if (i == Model.Count - 2)
                                {
                                    <tr>
                                        <td colspan="3" style="font-weight:700;font-size:18px">
                                            @Model[i].employee_id
                                        </td>
                                        <td style="font-weight:700;font-size:18px">
                                            @Model[i].price
                                        </td>
                                        <td style="font-weight:700;font-size:18px">
                                            @Model[i].delivery
                                        </td>
                                    </tr>
                                }
                                else if (i == Model.Count - 1)
                                {
                                    <tr>
                                        <td colspan="3" style="font-weight:700;font-size:18px">
                                            @Model[i].employee_id
                                        </td>
                                        <td colspan="2" style="font-weight:700;font-size:18px">
                                            @Model[i].delivery
                                        </td>
                                        </tr>
                                    }
                                    else
                                    {                                  
                                        if (menu_id != Model[i].menu_id)
                                        {
                                            if (toggle == 0)
                                            {
                                                toggle = 1;
                                            }
                                            else
                                            {
                                                toggle = 0;
                                            }
                                        }

                                        menu_id = Model[i].menu_id;
                                    
                                        <tr>
                                            <td style="font-weight:500;font-size:18px">
                                                @(i + 1)
                                            </td>
                                            <td style="font-weight:500;font-size:18px">
                                                @Model[i].employee_id
                                            </td>
                                            <td style="background-color:@colors[toggle];font-weight:500;font-size:18px;text-align:left">
                                                @Model[i].menu
                                            </td>
                                            <td style="font-weight:500;font-size:18px">
                                                @Model[i].price
                                            </td style="font-weight:500;font-size:18px">
                                            <td>
                                                @Model[i].delivery
                                            </td>
                                        </tr>
                                                         
                                }
                            }       
                        }
                        </tbody>
                    </table>
                </div>
            </div>           
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
</body>
</html>
